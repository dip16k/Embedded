	AREA	SWITCH, CODE, READONLY	;NAME OF THIS SECTION
	ENTRY													; MAKE AN ENTRY POINT
	
START
	LDR R3,=0X40000000
	MSR CPSR_C,#MODE_IRQ
	LDR R13,=0X40000010
	
	MSR CPSR_C,#MODE_FIQ
	LDR R13,=0X40000020
	
	MSR CPSR_C,#MODE_SYS
	LDR R13,=0X40000030
	
	MSR CPSR_C,#MODE_SVC
	LDR R13,=0X40000040
	
	MSR CPSR_C,#MODE_ABT
	LDR R13,=0X40000050
	
	MSR CPSR_C,#MODE_UND
	LDR R13,=0X40000060
	
	; after user mode we can not swtich manully 
	MSR CPSR_C,#MODE_USR
	LDR R13,=0X40000070
	
HERE
	B HERE
	
STOP

;DEFINE
MODE_USR EQU 0X10
MODE_FIQ EQU 0X11
MODE_IRQ EQU 0X12
MODE_SVC EQU 0X13
MODE_ABT EQU 0X17
MODE_UND EQU 0X1B
MODE_SYS EQU 0X1F
	END

